<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; SES Tracer Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'>
<h1 id="label-Tracer+v1.5+by+Solistra+and+Enelvon">Tracer v1.5 by Solistra and Enelvon</h1>

<h2 id="label-Summary">Summary</h2>

<p>This script provides a simple, customizable tracer which can be used as a
debugger or information-gathering tool for Ruby code. By default, the
output from the tracer shows a visual representation of the Ruby call stack
with relevant information. This is primarily a scripting and debugging
tool.</p>

<h2 id="label-Usage">Usage</h2>

<p>The tracer may be started either through a REPL or from a script call with
the following:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>SES</span><span class='op'>::</span><span class='const'>Tracer</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span></code></pre>

<p>You may also supply your own block of code for the tracer to run by simply
passing a proc or lambda object as the argument (or running a block
directly on the method):</p>

<pre class="code ruby"><code class="ruby"><span class='const'>SES</span><span class='op'>::</span><span class='const'>Tracer</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_binding'>binding</span><span class='comma'>,</span> <span class='id identifier rubyid_class_name'>class_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^{\d+}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='gvar'>$RGSS_SCRIPTS</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^{(\d+)}</span><span class='regexp_end'>/</span></span>
  <span class='id identifier rubyid_printf'>printf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%8s %s:%-4d %20s %-20s\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_class_name'>class_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<p>The tracer may be stopped through a REPL or from a script call with the
following:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>SES</span><span class='op'>::</span><span class='const'>Tracer</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span></code></pre>

<p>You can also specify methods that will <strong>always</strong> invoke the
tracer when run through the use of the <code>TRACE_METHODS</code> hash. Its
keys are the names of classes and its values are symbols corresponding to
methods within the class. By default it will cause <code>command_355</code>
of <code>Game_Interpreter</code> to be traced. This is the “Script…” event
command, which (without the help of the Tracer) will produce frustrating
errors that point back to the <code>command_355</code> method itself. For
example, to begin tracing when <code>Game_BattlerBase#change_hp</code> is
called, we would do the following:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>TRACE_METHODS</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='const'>Game_BattlerBase</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:change_hp</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='const'>Game_Interpreter</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:command_355</span><span class='rbracket'>]</span><span class='comma'>,</span>
<span class='rbrace'>}</span>
</code></pre>

<h2 id="label-Advanced+Usage">Advanced Usage</h2>

<p>Essentially, this script is a wrapper around Ruby&#39;s
<code>Kernel.set_trace_func</code> method, which is a callback provided by
the language when code is executed. This script has been written as a
tracer and simple debugger, but has great potential to do much more than
this. Your creativity and skill are the only real limits to the
possibilities.</p>

<p><code>Kernel.set_trace_func</code> provides a great deal of information
that can be used by both the conditional and tracer provided by this
script. Ruby&#39;s tracer reports the <em>event</em> that was received
(&#39;c-call&#39;, &#39;c-return&#39;, &#39;call&#39;, &#39;return&#39;,
&#39;class&#39;, &#39;end&#39;, &#39;line&#39;, and &#39;raise&#39;); the
<em>file</em> where the event occurred; the <em>line</em> within that file;
the <em>method</em> (or <em>id</em>) executed; the <em>binding</em> of the
method; and the <em>class</em> which it was executed in.</p>

<p>Most of the information provided is largely self-explanatory, but events
may need a little elaboration:</p>
<ul><li>
<p>&#39;c-call&#39; is given when a C routine has been called.</p>
</li><li>
<p>&#39;c-return&#39;, likewise, occurs when a C routine returns.</p>
</li><li>
<p>&#39;call&#39; is when a Ruby method is called.</p>
</li><li>
<p>&#39;return&#39; would be when a Ruby method returns.</p>
</li><li>
<p>&#39;class&#39; marks the opening of a new Ruby class or module.</p>
</li><li>
<p>&#39;end&#39; finishes a class or module definition.</p>
</li><li>
<p>&#39;line&#39; is given when code is executed on a new line.</p>
</li><li>
<p>&#39;raise&#39; is received when an Exception is raised.</p>
</li></ul>

<h2 id="label-License">License</h2>

<p>This script is made available under the terms of the MIT Expat license.
View <a href="http://sesvxace.wordpress.com/license/">this page</a> for
more detailed information.</p>

<h2 id="label-Installation">Installation</h2>

<p>Place this script below Materials, but above Main. Place this script below
the SES Core (v2.0) script if you are using it.</p>
</div></div>

    <div id="footer">
  Generated on Mon Jul 14 19:34:03 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.1.2).
</div>

  </body>
</html>